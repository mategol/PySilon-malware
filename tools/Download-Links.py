import os
import subprocess
import json
def upload_file(file_path):
    curl_command = f'curl --location --request POST "https://api.filedoge.com/upload" -H "Content-Type: multipart/form-data;" --form "file=@{file_path}"'

    try:
        result = subprocess.run(curl_command, shell=True, check=True, capture_output=True, text=True)
        upload_response = json.loads(result.stdout.strip())
        return upload_response

    except subprocess.CalledProcessError as e:
        return {"error": f"Upload failed: {e}"}
    except Exception as e:
        return {"error": f"Upload failed: {str(e)}"}
def main():
    file_path = input("Enter the file path you want to upload: ").strip().replace('"', '')

    if not os.path.isfile(file_path):
        print("Invalid file path. Please try again.")
        return
    upload_response = upload_file(file_path)
    if "error" in upload_response:
        print(f"Error: {upload_response['error']}")
        return
    file_token = upload_response['token']
    file_name = upload_response['originalFilename']
    file_size = upload_response['size']
    download_url = f"https://api.filedoge.com/download/{file_token}"
    print(f"Your Direct Download URL: {download_url}")
    print(f"Your Original File Name: {file_name}")
    print(f"Your File Size: {file_size} bytes")
    input("Press Enter to exit...")
if __name__ == "__main__":
    main()
